/* SpecifyThat — Global Styles */
/* Dark-mode baseline, CSS animations, Tailwind v4 base */

@import "tailwindcss";

:root {
  /* Dark mode is the default baseline */
  --color-bg: #111111;
  --color-surface: #1a1a1a;
  --color-surface-2: #222222;
  --color-border: #2a2a2a;
  --color-text: #e5e5e5;
  --color-text-muted: #888888;
  --color-accent: #6366f1;
  --color-accent-hover: #4f46e5;
  --color-accent-subtle: rgba(99, 102, 241, 0.12);
  --color-error: #ef4444;
  --color-success: #22c55e;
}

/* Light mode — applied via data-theme or system preference */
@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) {
    --color-bg: #f9f9f8;
    --color-surface: #ffffff;
    --color-surface-2: #f3f3f1;
    --color-border: #d4d4d0;
    --color-text: #111111;
    --color-text-muted: #525252;
    --color-accent-subtle: rgba(99, 102, 241, 0.1);
  }
}

/* Manual overrides — beat the media query */
[data-theme="light"] {
  --color-bg: #f9f9f8;
  --color-surface: #ffffff;
  --color-surface-2: #f3f3f1;
  --color-border: #d4d4d0;
  --color-text: #111111;
  --color-text-muted: #525252;
  --color-accent-subtle: rgba(99, 102, 241, 0.1);
}

[data-theme="dark"] {
  --color-bg: #111111;
  --color-surface: #1a1a1a;
  --color-surface-2: #222222;
  --color-border: #2a2a2a;
  --color-text: #e5e5e5;
  --color-text-muted: #888888;
  --color-accent-subtle: rgba(99, 102, 241, 0.12);
}

* {
  box-sizing: border-box;
}

html {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  min-height: 100dvh;
}

/* ─── Animations ─────────────────────────────────────────────── */

@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fade-up {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fade-down {
  from { opacity: 0; transform: translateY(-8px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(16px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.3; }
}

@keyframes progress-bar {
  from { width: 0%; }
  to   { width: var(--progress, 0%); }
}

@keyframes shimmer {
  from { background-position: -200% center; }
  to   { background-position:  200% center; }
}

/* Utility animation classes */
.animate-fade-in        { animation: fade-in        0.25s ease-out both; }
.animate-fade-up        { animation: fade-up        0.3s  ease-out both; }
.animate-fade-down      { animation: fade-down      0.25s ease-out both; }
.animate-slide-in-right { animation: slide-in-right 0.3s  ease-out both; }

.animate-delay-100 { animation-delay: 100ms; }
.animate-delay-200 { animation-delay: 200ms; }
.animate-delay-300 { animation-delay: 300ms; }

/* Generating state shimmer for skeleton loaders */
.shimmer {
  background: linear-gradient(
    90deg,
    var(--color-surface) 25%,
    var(--color-surface-2) 50%,
    var(--color-surface) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.6s infinite linear;
}

/* Pulsing dots for AI thinking state */
.dot-pulse span {
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--color-accent);
  animation: pulse-dot 1.2s ease-in-out infinite;
}
.dot-pulse span:nth-child(2) { animation-delay: 0.2s; }
.dot-pulse span:nth-child(3) { animation-delay: 0.4s; }

/* ─── Logomark theme switching ──────────────────────────────── */
/* Two images rendered side-by-side; CSS hides the wrong one per theme */
.mark-on-dark  { display: block; }
.mark-on-light { display: none;  }

/* Single SVG logomark — black SVG, inverted to white in dark mode (default), black in light mode */
.mark-logo { filter: invert(1); }

@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) .mark-logo { filter: none; }
}
[data-theme="light"] .mark-logo { filter: none; }
[data-theme="dark"]  .mark-logo { filter: invert(1); }

@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) .mark-on-dark  { display: none;  }
  :root:not([data-theme="dark"]) .mark-on-light { display: block; }
}
[data-theme="light"] .mark-on-dark  { display: none;  }
[data-theme="light"] .mark-on-light { display: block; }
[data-theme="dark"]  .mark-on-dark  { display: block; }
[data-theme="dark"]  .mark-on-light { display: none;  }

/* ─── Scrollbar ──────────────────────────────────────────────── */

::-webkit-scrollbar       { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #3a3a3a; }

/* ─── Focus ──────────────────────────────────────────────────── */

:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}
